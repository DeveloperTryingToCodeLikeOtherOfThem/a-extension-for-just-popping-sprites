{"entries":[{"timestamp":1758332796946,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":2865,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":224,"length1":45,"diffs":[[1,"    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1758333349125,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":154,"diffs":[[1,"class AhhSpritesAreHard {\r\n"]]},{"start1":99,"length1":93,"diffs":[[1,""]]},{"start1":194,"length1":137,"diffs":[[1,""]]},{"start1":1613,"length1":235,"diffs":[[1,""]]},{"start1":2863,"length1":653,"diffs":[[1,"`)"]]}]}]},{"timestamp":1758333947158,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2120,"length1":64,"diffs":[[1,"            game.currentScene().flags |= scene.Flag.NeedsSorting;\r\n"]]},{"start1":3538,"length1":50,"diffs":[[1,""]]},{"start1":3540,"length1":162,"diffs":[[1,"    constructor(public eventContext: control.EventContext) {}\r\n"]]},{"start1":3861,"length1":55,"diffs":[[1,"            if (this.flags & Flag.NeedsSorting)\r\n"]]},{"start1":4107,"length1":821,"diffs":[[1,"}"]]}]}]},{"timestamp":1758334564038,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":5078,"length1":3,"diffs":[[1,"`)"]]}]}]},{"timestamp":1758334648538,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4461,"length1":62,"diffs":[[1,"\r\naddSpriteFinally(img`\r\n    . . . . . . . . . . . . . . . .\r\n    . . . . . . . . . . . . . . . .\r\n    . . . . . . . . . b 5 5 b . . .\r\n    . . . . . . b b b b b b . . . .\r\n    . . . . . b b 5 5 5 5 5 b . . .\r\n    . b b b b b 5 5 5 5 5 5 5 b . .\r\n    . b d 5 b 5 5 5 5 5 5 5 5 b . .\r\n    . . b 5 5 b 5 d 1 f 5 d 4 f . .\r\n    . . b d 5 5 b 1 f f 5 4 4 c . .\r\n    b b d b 5 5 5 d f b 4 4 4 4 b .\r\n    b d d c d 5 5 b 5 4 4 4 4 4 4 b\r\n    c d d d c c b 5 5 5 5 5 5 5 b .\r\n    c b d d d d d 5 5 5 5 5 5 5 b .\r\n    . c d d d d d d 5 5 5 5 5 d b .\r\n    . . c b d d d d d 5 5 5 b b . .\r\n    . . . c c c c c c c c b b . . .\r\n`)."]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":52,"diffs":[[1,"    \"name\": \"I am so confused\",\n"]]},{"start1":163,"length1":70,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":192,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"},{"type":"added","filename":"images.g.jres","value":"{\n    \"image1\": {\n        \"data\": \"hwQgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAALwPAAAAAAAAAAAAAAAAAAC8DwDAzMwAAAAAAAAAAADAvQ/wz93dzAAAAAAAAAAAwN3//2bT3c0MAAAAAAAAALzbvbtr1t3dzMwAAAAAAAC8u7u7uzbd3c0zAAAAAAAAvLu7u7s23d3NMwAAAAAAALz7v7u7Nt3dvcMAAAAAAAC8+7+7uzbd3d3LAAAAAAAAwLu7u2vW3d3dOwAAAAAAAAD/v7tms7vdzTMAAAAAAAAAAP+/Zt29283DAAAAAAAAAAAA/9Pd3bu9wwAAAAAAAAAAAPDd3d293TwAAAAAAAAAAADw3d3du937AAAAAAAAAAAAANzdvbvd+wAAAAAAAAAAAADc3bvN3f8AAAAAAAAAAAAAwL3bzb0PAAAAAAAAAAAAAADM3c29DwAAAAAAAAAAAAAAwN3N+wAAAAAAAAAAAAAAAAC8y/wAAAAAAAAAAAAAAAAAwLv8AAAAAAAAAAAAAAAAAAC8DwAAAAAAAAAAAAAAAAAAvA8AAAAAAAAAAAAAAAAAAMwPAAAAAAAAAAAAAAAAAADADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"displayName\": \"hi\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myImages\"\n    }\n}"},{"type":"added","filename":"images.g.ts","value":"// Auto-generated code. Do not edit.\nnamespace myImages {\n\n    helpers._registerFactory(\"image\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"image1\":\n            case \"hi\":return img`\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n................................\n........ccccc...................\n......ccbbbbbc..................\n....ccddbbbbbbf.................\n...cbbbddbbffbf.................\n....ffffdbbffbff................\n.......fbbbbbbbf................\n.......fbbbbbbbff...............\n......ffbbbbbbbbfff.............\n......f6bbbbbb663ddcc...........\n.....cc66bbbb666dddddc..........\n.....cd36666663dddddddc.........\n.....cddd3333dbddddddbcc........\n.....cddddddddbdddddbbddc.......\n.....cddddddddbbdddbbdddbc......\n......cddddddddbbdbbddddbbccc...\n......ccddddddddbbbbcccccbbbcc..\n.......ccddddddddddddddbccffff..\n........cccbddccbddddbbfff......\n........c333bb333cbbfff.........\n........c33cc33cc3fff...........\n`;\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"animation\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"song\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n\n        }\n        return null;\n    })\n\n}\n// Auto-generated code. Do not edit.\n"}]}],"snapshots":[{"timestamp":1758332796945,"editorVersion":"2.0.56","text":{"main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"I am so confused\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1758334648538,"editorVersion":"2.0.56","text":{"main.ts":"interface SpriteLike2 {\r\n    z: number;\r\n    id: number;\r\n    __draw(camera: scene.Camera): void;\r\n}\r\n\r\nclass AhhSpritesAreHard implements SpriteLike2 {\r\n    private _image: Image;\r\n\r\n    x: number = 0;\r\n    y: number = 0;\r\n\r\n    _lastX: number;\r\n    _lastY: number;\r\n\r\n    id: number = 0;\r\n\r\n    private _z: number\r\n\r\n    get image(): Image {\r\n        return this._image;\r\n    }\r\n\r\n    constructor(img: Image) {\r\n        this.x = screen.width >> 1;\r\n        this.y = screen.height >> 1;\r\n        this._lastX = this.x;\r\n        this._lastY = this.y;\r\n        this.setImage(img)\r\n    }\r\n\r\n    setImage(img: Image) {\r\n        if (!img) return; // don't break the sprite\r\n        this._image = img;\r\n    }\r\n\r\n    get width() {\r\n        return this._image.width\r\n    }\r\n   \r\n    get height() {\r\n        return this._image.height\r\n    } \r\n\r\n    get left() {\r\n        return this.x - (this.width >> 1)\r\n    }\r\n \r\n    set left(value: number) {\r\n        this.x = value + (this.width >> 1);\r\n    }\r\n   \r\n    get right() {\r\n        return this.left + this.width\r\n    }\r\n   \r\n    set right(value: number) {\r\n        this.x = value - (this.width >> 1);\r\n    }\r\n\r\n    get top() {\r\n        return this.y - (this.height >> 1)\r\n    }\r\n\r\n    set top(value: number) {\r\n        this.y = value + (this.height >> 1);\r\n    }\r\n   \r\n    get bottom() {\r\n        return this.top + this.height\r\n    }\r\n   \r\n    set bottom(value: number) {\r\n        this.y = value - (this.height >> 1);\r\n    }\r\n\r\n    __draw(camera: scene.Camera) {\r\n        if(this.isOutOfScreen(camera)) return;\r\n\r\n        const l = this.left - camera.offsetX;\r\n        const t = this.top - camera.offsetY;\r\n        screen.drawTransparentImage(this._image, l, t)\r\n    }\r\n\r\n    isOutOfScreen(camera: scene.Camera): boolean {\r\n        const ox = camera.offsetX;\r\n        const oy = camera.offsetY;\r\n        return this.right - ox < 0 || this.bottom - oy < 0 || this.left - ox > screen.width || this.top - oy > screen.height;\r\n    }\r\n\r\n    get z(): number {\r\n        return this._z;\r\n    }\r\n\r\n    set z(value: number) {\r\n        if (value != this._z) {\r\n            this._z = value;\r\n            new ExtraScene(control.eventContext()).flags |= 1;\r\n        }\r\n    }\r\n} \r\n\r\nnew AhhSpritesAreHard(img`\r\n    ..........bbbbbb................\r\n    .......bbb444444bb..............\r\n    .....2244444ddd444b.............\r\n    ....244444444dddd44e............\r\n    ...244444444444ddd4be...........\r\n    ..244444444444444d44be..........\r\n    .2b444444444444444d4be..........\r\n    .2b44444444444444444bbe.........\r\n    2bbb4444444444444444bbe.........\r\n    2bbb4444444444444444bbe.........\r\n    2bb4b4444444444444444bbe........\r\n    2bb4444444444444444444be........\r\n    2bb44444444444444444444e........\r\n    2bbb444bbb4444444444444e........\r\n    22bbb444bb4bb444444444be........\r\n    .2bbbbb44bbbb44444444bbe........\r\n    .22bbbbbbbb44bbb444444bbe.......\r\n    ..eeebbbbbbb44bbb444444be.......\r\n    ...eeeeebbbbbbbb44b4444be.......\r\n    .....eeeeee222bb44bbb4bbe.......\r\n    .......eeeee222bb44bbbbee.......\r\n    ............e222bbbbbbbec.......\r\n    ..............ee2bbbbeebdb......\r\n    .................eeeeecdddb.....\r\n    .......................cd11bbbb.\r\n    ........................cd111dbb\r\n    .........................b11111c\r\n    .........................c11dd1c\r\n    .........................cd1dbc.\r\n    .........................cb11c..\r\n    ..........................ccc...\r\n    ................................\r\n`)\r\n\r\nclass ExtraScene {\r\n    allSprites: SpriteLike2[]\r\n    spriteNextId: number\r\n    flags: number = 0;\r\n    camera: scene.Camera\r\n\r\n    constructor(public eventContext: control.EventContext) {\r\n        this.camera = new scene.Camera()\r\n        this.init()\r\n        this.allSprites = []\r\n    }\r\n\r\n    addSprite(sprite: SpriteLike2) {\r\n        this.allSprites.push(sprite);\r\n        sprite.id = this.spriteNextId++;\r\n    }\r\n\r\n    init() {\r\n        this.eventContext.registerFrameHandler(90, () => {\r\n            control.enablePerfCounter(\"sprite_draw\")\r\n            if (this.flags & scene.Flag.NeedsSorting)\r\n                this.allSprites.sort(function (a, b) { return a.z - b.z || a.id - b.id; })\r\n            for (const s of this.allSprites)\r\n                s.__draw(this.camera);\r\n        })\r\n    }\r\n}\r\n\r\nfunction addSpriteFinally(img: Image) {\r\n    const scene = new ExtraScene(control.eventContext())\r\n    const sprite = new AhhSpritesAreHard(img)\r\n    scene.addSprite(sprite)\r\n    return sprite\r\n}\r\n\r\naddSpriteFinally(img`\r\n    . . . . . . . . . . . . . . . .\r\n    . . . . . . . . . . . . . . . .\r\n    . . . . . . . . . b 5 5 b . . .\r\n    . . . . . . b b b b b b . . . .\r\n    . . . . . b b 5 5 5 5 5 b . . .\r\n    . b b b b b 5 5 5 5 5 5 5 b . .\r\n    . b d 5 b 5 5 5 5 5 5 5 5 b . .\r\n    . . b 5 5 b 5 d 1 f 5 d 4 f . .\r\n    . . b d 5 5 b 1 f f 5 4 4 c . .\r\n    b b d b 5 5 5 d f b 4 4 4 4 b .\r\n    b d d c d 5 5 b 5 4 4 4 4 4 4 b\r\n    c d d d c c b 5 5 5 5 5 5 5 b .\r\n    c b d d d d d 5 5 5 5 5 5 5 b .\r\n    . c d d d d d d 5 5 5 5 5 d b .\r\n    . . c b d d d d d 5 5 5 b b . .\r\n    . . . c c c c c c c c b b . . .\r\n`)","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"I am so confused\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[],"lastSaveTime":1758334946738}